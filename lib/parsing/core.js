"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.toData=exports.toProps=void 0;var _camelcase=_interopRequireDefault(require("camelcase"));var _util=require("../util");function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function toProps(params,param){const[rawKey,rawValue]=param.split("=");const hasValue=rawValue!=null;const key=hasValue?rawKey:rawKey==="URI"?"value":"type";const value=hasValue?rawValue:rawKey;const newKey=(0,_camelcase).default(key);const newValue=(0,_util).trim(value,'"').toLowerCase().split(",");if(params[newKey]){params[newKey]=[...params[newKey],...newValue];return params}return _extends({},params,{[newKey]:newValue})}const toData=lineParser=>(data,line)=>{const{name,props,value,group,errors}=lineParser(line);const result={value,props,group};if(errors){data.lineErrors=[...data.lineErrors,...errors];return data}if(data.data[name])data.data[name].push(result);else data.data[name]=[result];return data};exports.toProps=toProps;exports.toData=toData
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9wYXJzaW5nL2NvcmUudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGNhbWVsQ2FzZSBmcm9tIFwiY2FtZWxjYXNlXCI7XG5cbmltcG9ydCB7IHRyaW0gfSBmcm9tIFwiLi4vdXRpbFwiO1xuaW1wb3J0IHR5cGUgeyBMaW5lLCBTYWNoZSB9IGZyb20gXCIuLi90eXBlc1wiO1xuXG5mdW5jdGlvbiB0b1Byb3BzKHBhcmFtczogeyBba2V5OiBzdHJpbmddOiBhbnkgfSwgcGFyYW06IHN0cmluZykge1xuICBjb25zdCBbcmF3S2V5LCByYXdWYWx1ZV0gPSBwYXJhbS5zcGxpdChcIj1cIik7XG5cbiAgY29uc3QgaGFzVmFsdWUgPSByYXdWYWx1ZSAhPSBudWxsO1xuXG4gIGNvbnN0IGtleSA9IGhhc1ZhbHVlID8gcmF3S2V5IDogcmF3S2V5ID09PSBcIlVSSVwiID8gXCJ2YWx1ZVwiIDogXCJ0eXBlXCI7XG4gIGNvbnN0IHZhbHVlID0gaGFzVmFsdWUgPyByYXdWYWx1ZSA6IHJhd0tleTtcblxuICBjb25zdCBuZXdLZXkgPSBjYW1lbENhc2Uoa2V5KTtcbiAgY29uc3QgbmV3VmFsdWUgPSB0cmltKHZhbHVlLCAnXCInKS50b0xvd2VyQ2FzZSgpLnNwbGl0KFwiLFwiKTtcblxuICBpZiAocGFyYW1zW25ld0tleV0pIHtcbiAgICBwYXJhbXNbbmV3S2V5XSA9IFsuLi5wYXJhbXNbbmV3S2V5XSwgLi4ubmV3VmFsdWVdO1xuXG4gICAgcmV0dXJuIHBhcmFtcztcbiAgfVxuICByZXR1cm4ge1xuICAgIC4uLnBhcmFtcyxcbiAgICBbbmV3S2V5XTogbmV3VmFsdWUsXG4gIH07XG59XG5cbmNvbnN0IHRvRGF0YSA9XG4gIChsaW5lUGFyc2VyOiAobGluZTogYW55KSA9PiBMaW5lKSA9PiAoZGF0YTogU2FjaGUsIGxpbmU6IGFueSkgPT4ge1xuICAgIGNvbnN0IHsgbmFtZSwgcHJvcHMsIHZhbHVlLCBncm91cCwgZXJyb3JzIH0gPSBsaW5lUGFyc2VyKGxpbmUpO1xuXG4gICAgY29uc3QgcmVzdWx0ID0geyB2YWx1ZSwgcHJvcHMsIGdyb3VwIH07XG5cbiAgICBpZiAoZXJyb3JzKSB7XG4gICAgICBkYXRhLmxpbmVFcnJvcnMgPSBbLi4uZGF0YS5saW5lRXJyb3JzLCAuLi5lcnJvcnNdO1xuICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfVxuICAgIC8vIGlmIChncm91cCkge1xuICAgIC8vICAgaWYgKGRhdGEuZGF0YVtncm91cF0gPT0gbnVsbCkgZGF0YS5kYXRhW2dyb3VwXSA9IHt9O1xuXG4gICAgLy8gICBpZiAoZGF0YS5kYXRhW2dyb3VwXVtuYW1lXSkgZGF0YS5kYXRhW2dyb3VwXVtuYW1lXS5wdXNoKHJlc3VsdCk7XG4gICAgLy8gICBlbHNlIGRhdGEuZGF0YVtncm91cF1bbmFtZV0gPSBbcmVzdWx0XTtcbiAgICAvLyB9IGVsc2Uge1xuICAgIGlmIChkYXRhLmRhdGFbbmFtZV0pIGRhdGEuZGF0YVtuYW1lXS5wdXNoKHJlc3VsdCk7XG4gICAgZWxzZSBkYXRhLmRhdGFbbmFtZV0gPSBbcmVzdWx0XTtcbiAgICAvLyB9XG4gICAgcmV0dXJuIGRhdGE7XG4gIH07XG5leHBvcnQgeyB0b1Byb3BzLCB0b0RhdGEgfTtcbiJdLCJuYW1lcyI6WyJ0b1Byb3BzIiwicGFyYW1zIiwicGFyYW0iLCJyYXdLZXkiLCJyYXdWYWx1ZSIsInNwbGl0IiwiaGFzVmFsdWUiLCJrZXkiLCJ2YWx1ZSIsIm5ld0tleSIsImNhbWVsQ2FzZSIsIm5ld1ZhbHVlIiwidHJpbSIsInRvTG93ZXJDYXNlIiwidG9EYXRhIiwibGluZVBhcnNlciIsImRhdGEiLCJsaW5lIiwibmFtZSIsInByb3BzIiwiZ3JvdXAiLCJlcnJvcnMiLCJyZXN1bHQiLCJsaW5lRXJyb3JzIiwicHVzaCJdLCJtYXBwaW5ncyI6IkFBQUEsMkdBQXNCLEtBQUEsVUFBVyxnQ0FBWCxXQUFXLEVBQUEsQUFFWixLQUFBLEtBQVMsU0FBVCxTQUFTLENBQUEsdVdBRzlCLFNBQVNBLE9BQU8sQ0FBQ0MsTUFBOEIsQ0FBRUMsS0FBYSxDQUFFLENBQzlELEtBQU0sQ0FBQ0MsTUFBTSxDQUFFQyxRQUFRLENBQUMsQ0FBR0YsS0FBSyxDQUFDRyxLQUFLLENBQUMsR0FBRyxDQUFDLEFBQUMsQUFFNUMsT0FBTUMsUUFBUSxDQUFHRixRQUFRLEVBQUksSUFBSSxBQUFDLEFBRWxDLE9BQU1HLEdBQUcsQ0FBR0QsUUFBUSxDQUFHSCxNQUFNLENBQUdBLE1BQU0sR0FBSyxLQUFLLENBQUcsT0FBTyxDQUFHLE1BQU0sQUFBQyxBQUNwRSxPQUFNSyxLQUFLLENBQUdGLFFBQVEsQ0FBR0YsUUFBUSxDQUFHRCxNQUFNLEFBQUMsQUFFM0MsT0FBTU0sTUFBTSxDQUFHQyxDQUFBQSxFQUFBQSxVQUFTLEFBQUssQ0FBQSxRQUFMLENBQUNILEdBQUcsQ0FBQyxBQUFDLEFBQzlCLE9BQU1JLFFBQVEsQ0FBR0MsQ0FBQUEsRUFBQUEsS0FBSSxBQUFZLENBQUEsS0FBWixDQUFDSixLQUFLLENBQUUsR0FBRyxDQUFDLENBQUNLLFdBQVcsRUFBRSxDQUFDUixLQUFLLENBQUMsR0FBRyxDQUFDLEFBQUMsQUFFM0QsSUFBSUosTUFBTSxDQUFDUSxNQUFNLENBQUMsQ0FBRSxDQUNsQlIsTUFBTSxDQUFDUSxNQUFNLENBQUMsQ0FBRyxJQUFJUixNQUFNLENBQUNRLE1BQU0sQ0FBQyxJQUFLRSxRQUFRLENBQUMsQUFFakQsUUFBT1YsTUFBTSxBQUFDLENBQ2YsQUFDRCxPQUFPLFlBQ0ZBLE1BQU0sRUFDVCxDQUFDUSxNQUFNLENBQUMsQ0FBRUUsUUFBUSxFQUNuQixBQUFDLENBQ0gsQUFFRCxNQUFNRyxNQUFNLENBQ1YsQUFBQ0MsVUFBK0IsRUFBSyxDQUFDQyxJQUFXLENBQUVDLElBQVMsR0FBSyxDQUMvRCxLQUFNLENBQUVDLElBQUksQ0FBRUMsS0FBSyxDQUFFWCxLQUFLLENBQUVZLEtBQUssQ0FBRUMsTUFBTSxDQUFFLENBQUdOLFVBQVUsQ0FBQ0UsSUFBSSxDQUFDLEFBQUMsQUFFL0QsT0FBTUssTUFBTSxDQUFHLENBQUVkLEtBQUssQ0FBRVcsS0FBSyxDQUFFQyxLQUFLLENBQUUsQUFBQyxBQUV2QyxJQUFJQyxNQUFNLENBQUUsQ0FDVkwsSUFBSSxDQUFDTyxVQUFVLENBQUcsSUFBSVAsSUFBSSxDQUFDTyxVQUFVLElBQUtGLE1BQU0sQ0FBQyxBQUNqRCxRQUFPTCxJQUFJLEFBQUMsQ0FDYixBQU9ELEdBQUlBLElBQUksQ0FBQ0EsSUFBSSxDQUFDRSxJQUFJLENBQUMsQ0FBRUYsSUFBSSxDQUFDQSxJQUFJLENBQUNFLElBQUksQ0FBQyxDQUFDTSxJQUFJLENBQUNGLE1BQU0sQ0FBQyxNQUM1Q04sSUFBSSxDQUFDQSxJQUFJLENBQUNFLElBQUksQ0FBQyxDQUFHLENBQUNJLE1BQU0sQ0FBQyxBQUFDLEFBRWhDLFFBQU9OLElBQUksQUFBQyxDQUNiLEFBQUMsU0FDS2hCLE9BQU8sQ0FBUEEsT0FBTyxTQUFFYyxNQUFNLENBQU5BLE1BQU0sQUFBRyJ9