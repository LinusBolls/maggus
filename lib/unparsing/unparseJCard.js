"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _util=require("../util");function _objectWithoutPropertiesLoose(source,excluded){if(source==null)return{};var target={};var sourceKeys=Object.keys(source);var key,i;for(i=0;i<sourceKeys.length;i++){key=sourceKeys[i];if(excluded.indexOf(key)>=0)continue;target[key]=source[key]}return target}const seperateSameValues=(prev,[name,values])=>{return[...prev,...values.map(i=>[name,i])]};const toLine=version=>{return([name,data])=>{var ref;const _props=data.props,{value}=_props,props=_objectWithoutPropertiesLoose(_props,["value"]);return[name,props,((ref=data.props.value)==null?void 0:ref.length)?Array.isArray(data.props.value)?data.props.value[0]:data.props.value:(0,_util).getPropertyType(data.value),data.value.includes(",")?data.value.split(","):data.value,]}};function unparseJCard(maggus,version){const begin="vcard";const content=Object.entries(maggus).reduce(seperateSameValues,[]).map(toLine(version));return[begin,content]}var _default=unparseJCard;exports.default=_default
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy91bnBhcnNpbmcvdW5wYXJzZUpDYXJkLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFZjZlZlcnNpb24gfSBmcm9tIFwiLi4vdHlwZXNcIjtcbmltcG9ydCB7IGdldFByb3BlcnR5VHlwZSB9IGZyb20gXCIuLi91dGlsXCI7XG5cbmNvbnN0IHNlcGVyYXRlU2FtZVZhbHVlcyA9IChwcmV2LCBbbmFtZSwgdmFsdWVzXSkgPT4ge1xuICByZXR1cm4gWy4uLnByZXYsIC4uLnZhbHVlcy5tYXAoKGkpID0+IFtuYW1lLCBpXSldO1xufTtcblxuY29uc3QgdG9MaW5lID1cbiAgKHZlcnNpb246IFZjZlZlcnNpb24pID0+XG4gIChbbmFtZSwgZGF0YV0pID0+IHtcbiAgICBjb25zdCB7IHZhbHVlLCAuLi5wcm9wcyB9ID0gZGF0YS5wcm9wcztcbiAgICByZXR1cm4gW1xuICAgICAgbmFtZSxcbiAgICAgIHByb3BzLFxuICAgICAgZGF0YS5wcm9wcy52YWx1ZT8ubGVuZ3RoXG4gICAgICAgID8gQXJyYXkuaXNBcnJheShkYXRhLnByb3BzLnZhbHVlKVxuICAgICAgICAgID8gZGF0YS5wcm9wcy52YWx1ZVswXVxuICAgICAgICAgIDogZGF0YS5wcm9wcy52YWx1ZVxuICAgICAgICA6IGdldFByb3BlcnR5VHlwZShkYXRhLnZhbHVlKSxcbiAgICAgIGRhdGEudmFsdWUuaW5jbHVkZXMoXCIsXCIpID8gZGF0YS52YWx1ZS5zcGxpdChcIixcIikgOiBkYXRhLnZhbHVlLFxuICAgIF07XG4gIH07XG5cbmZ1bmN0aW9uIHVucGFyc2VKQ2FyZChtYWdndXM6IGFueSwgdmVyc2lvbjogVmNmVmVyc2lvbik6IGFueVtdIHtcbiAgY29uc3QgYmVnaW4gPSBcInZjYXJkXCI7XG5cbiAgY29uc3QgY29udGVudCA9IE9iamVjdC5lbnRyaWVzKG1hZ2d1cylcbiAgICAucmVkdWNlKHNlcGVyYXRlU2FtZVZhbHVlcywgW10pXG4gICAgLm1hcCh0b0xpbmUodmVyc2lvbikpO1xuXG4gIHJldHVybiBbYmVnaW4sIGNvbnRlbnRdO1xufVxuZXhwb3J0IGRlZmF1bHQgdW5wYXJzZUpDYXJkO1xuIl0sIm5hbWVzIjpbInNlcGVyYXRlU2FtZVZhbHVlcyIsInByZXYiLCJuYW1lIiwidmFsdWVzIiwibWFwIiwiaSIsInRvTGluZSIsInZlcnNpb24iLCJkYXRhIiwicHJvcHMiLCJ2YWx1ZSIsImxlbmd0aCIsIkFycmF5IiwiaXNBcnJheSIsImdldFByb3BlcnR5VHlwZSIsImluY2x1ZGVzIiwic3BsaXQiLCJ1bnBhcnNlSkNhcmQiLCJtYWdndXMiLCJiZWdpbiIsImNvbnRlbnQiLCJPYmplY3QiLCJlbnRyaWVzIiwicmVkdWNlIl0sIm1hcHBpbmdzIjoiQUFBQSw0RkFDZ0MsS0FBQSxLQUFTLFNBQVQsU0FBUyxDQUFBLDJRQUV6QyxNQUFNQSxrQkFBa0IsQ0FBRyxDQUFDQyxJQUFJLENBQUUsQ0FBQ0MsSUFBSSxDQUFFQyxNQUFNLENBQUMsR0FBSyxDQUNuRCxNQUFPLElBQUlGLElBQUksSUFBS0UsTUFBTSxDQUFDQyxHQUFHLENBQUMsQUFBQ0MsQ0FBQyxFQUFLLENBQUNILElBQUksQ0FBRUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxBQUFDLENBQ25ELEFBQUMsQUFFRixPQUFNQyxNQUFNLENBQ1YsQUFBQ0MsT0FBbUIsR0FDcEIsTUFBQSxDQUFDLENBQUNMLElBQUksQ0FBRU0sSUFBSSxDQUFDLEdBQUssS0FLZEEsR0FBZ0IsQUFKbEIsT0FBNEJBLE1BQVUsQ0FBVkEsSUFBSSxDQUFDQyxLQUFLLENBQWhDLENBQUVDLEtBQUssQ0FBWSxDQUFHRixNQUFVLENBQXBCQyxLQUFLLCtCQUFLRCxNQUFVLEVBQTlCRSxPQUFLLEVBQTBCLEFBQ3ZDLE9BQU8sQ0FDTFIsSUFBSSxDQUNKTyxLQUFLLENBQ0xELENBQUFBLENBQUFBLEdBQWdCLENBQWhCQSxJQUFJLENBQUNDLEtBQUssQ0FBQ0MsS0FBSyxPQUFRLENBQXhCRixLQUFBQSxDQUF3QixDQUF4QkEsR0FBZ0IsQ0FBRUcsTUFBTSxDQUFBLENBQ3BCQyxLQUFLLENBQUNDLE9BQU8sQ0FBQ0wsSUFBSSxDQUFDQyxLQUFLLENBQUNDLEtBQUssQ0FBQyxDQUM3QkYsSUFBSSxDQUFDQyxLQUFLLENBQUNDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FDbkJGLElBQUksQ0FBQ0MsS0FBSyxDQUFDQyxLQUFLLENBQ2xCSSxDQUFBQSxFQUFBQSxLQUFlLEFBQVksQ0FBQSxnQkFBWixDQUFDTixJQUFJLENBQUNFLEtBQUssQ0FBQyxDQUMvQkYsSUFBSSxDQUFDRSxLQUFLLENBQUNLLFFBQVEsQ0FBQyxHQUFHLENBQUMsQ0FBR1AsSUFBSSxDQUFDRSxLQUFLLENBQUNNLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBR1IsSUFBSSxDQUFDRSxLQUFLLEVBQzlELEFBQUMsQ0FDSCxDQUFBLEFBQUMsQUFFSixVQUFTTyxZQUFZLENBQUNDLE1BQVcsQ0FBRVgsT0FBbUIsQ0FBUyxDQUM3RCxNQUFNWSxLQUFLLENBQUcsT0FBTyxBQUFDLEFBRXRCLE9BQU1DLE9BQU8sQ0FBR0MsTUFBTSxDQUFDQyxPQUFPLENBQUNKLE1BQU0sQ0FBQyxDQUNuQ0ssTUFBTSxDQUFDdkIsa0JBQWtCLENBQUUsRUFBRSxDQUFDLENBQzlCSSxHQUFHLENBQUNFLE1BQU0sQ0FBQ0MsT0FBTyxDQUFDLENBQUMsQUFBQyxBQUV4QixPQUFPLENBQUNZLEtBQUssQ0FBRUMsT0FBTyxDQUFDLEFBQUMsQ0FDekIsYUFDY0gsWUFBWSx5QkFBQyJ9